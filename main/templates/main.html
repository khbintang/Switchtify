{% extends 'base.html' %}
{% load static %}

{% block title %}
    Products - Product List
{% endblock title %}

{% block content %}
    <h1>Product List</h1>

    <div style="display: flex; flex-wrap: wrap; gap: 20px;">
        {% for product in products %}
        <div style="border: 1px solid #ddd; padding: 10px; border-radius: 8px; width: 250px;">
            <h2>{{ product.name }}</h2>
            {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width: 100%;">
            {% endif %}
            <table>
                <tr>
                    <th>Description:</th>
                    <td>{{ product.description }}</td>
                </tr>
                <tr>
                    <th>Price:</th>
                    <td class="price">{{ product.price }}</td>
                </tr>
                <tr>
                    <th>Type:</th>
                    <td class="type">{{ product.type }}</td>
                </tr>
                {% if product.sound_profile %}
                <tr>
                    <th>Sound Profile:</th>
                    <td>{{ product.sound_profile }}</td>
                </tr>
                {% endif %}
                <tr>
                    <td colspan="2">
                        <a href="{% url 'main:edit_product' product.pk %}">
                            <button>Edit</button>
                        </a>
                    </td>
                </tr>
            </table>
        </div>
        {% empty %}
            <p>No products available yet.</p>
        {% endfor %}
    </div>

    <a href="{% url 'main:create_product' %}" class="btn btn-primary">Add New Product</a>

    <a href="{% url 'main:logout' %}">
        <button>Logout</button>
    </a>

    <h5>Last login session: {{ last_login }}</h5>
{% endblock content %}